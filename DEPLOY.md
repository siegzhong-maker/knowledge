# éƒ¨ç½²æŒ‡å—

æœ¬æŒ‡å—æä¾›å¤šç§éƒ¨ç½²æ–¹æ¡ˆï¼Œä½ å¯ä»¥æ ¹æ®éœ€æ±‚é€‰æ‹©åˆé€‚çš„å¹³å°ã€‚

## å¿«é€Ÿé€‰æ‹©

- **Renderï¼ˆæ¨èå…è´¹æ–¹æ¡ˆï¼‰**ï¼šå®Œå…¨å…è´¹ï¼Œæ— éœ€ä¿¡ç”¨å¡ï¼Œé€‚åˆå°å›¢é˜Ÿï¼ˆ3-5äººï¼‰
- **Railway**ï¼š$5/æœˆå…è´¹é¢åº¦ï¼Œç¨³å®šå¯é ï¼Œéœ€è¦ç»‘å®šä¿¡ç”¨å¡
- **æœ¬åœ°éƒ¨ç½²**ï¼šå®Œå…¨å…è´¹ï¼Œæ•°æ®æœ¬åœ°å­˜å‚¨ï¼Œéœ€è¦æŠ€æœ¯åŸºç¡€

---

## Render éƒ¨ç½²æ­¥éª¤ï¼ˆæ¨èå…è´¹æ–¹æ¡ˆï¼‰

### 1. å‡†å¤‡å·¥ä½œ

1. åœ¨ [Render](https://render.com) æ³¨å†Œè´¦å·ï¼ˆå…è´¹ï¼‰
2. å°†ä»£ç æ¨é€åˆ° GitHub ä»“åº“ï¼ˆå¦‚æœæ²¡æœ‰çš„è¯ï¼‰

### 2. éƒ¨ç½²åˆ° Render

#### æ–¹å¼ä¸€ï¼šé€šè¿‡ render.yaml é…ç½®ï¼ˆæ¨èï¼‰

1. ç¡®ä¿é¡¹ç›®ä¸­å·²æœ‰ `render.yaml` é…ç½®æ–‡ä»¶
2. åœ¨ Render æ§åˆ¶å°ï¼š
   - ç‚¹å‡» "New +" > "Blueprint"
   - è¿æ¥åˆ°ä½ çš„ GitHub ä»“åº“
   - é€‰æ‹©åŒ…å« `render.yaml` çš„åˆ†æ”¯
   - Render ä¼šè‡ªåŠ¨è¯»å–é…ç½®æ–‡ä»¶å¹¶åˆ›å»ºæœåŠ¡

3. éƒ¨ç½²å®Œæˆåï¼ŒRender ä¼šæä¾›ä¸€ä¸ªå…¬ç½‘ URLï¼Œå¦‚ï¼š`https://knowledge-manager.onrender.com`

#### æ–¹å¼äºŒï¼šé€šè¿‡æ§åˆ¶å°æ‰‹åŠ¨é…ç½®

1. åœ¨ Render æ§åˆ¶å°ï¼š
   - ç‚¹å‡» "New +" > "Web Service"
   - è¿æ¥åˆ°ä½ çš„ GitHub ä»“åº“
   - Render ä¼šè‡ªåŠ¨æ£€æµ‹ Node.js é¡¹ç›®

2. é…ç½®æœåŠ¡ï¼š
   - **Name**: knowledge-managerï¼ˆæˆ–è‡ªå®šä¹‰åç§°ï¼‰
   - **Region**: oregonï¼ˆé€‰æ‹©ç¦»ä½ æœ€è¿‘çš„åŒºåŸŸï¼‰
   - **Branch**: mainï¼ˆæˆ–ä½ çš„ä¸»åˆ†æ”¯ï¼‰
   - **Root Directory**: ç•™ç©ºï¼ˆæ ¹ç›®å½•ï¼‰
   - **Runtime**: Node
   - **Build Command**: `npm install`
   - **Start Command**: `npm start`
   - **Plan**: Freeï¼ˆå…è´¹å¥—é¤ï¼‰

3. é…ç½®ç¯å¢ƒå˜é‡ï¼š
   - `NODE_ENV`: `production`
   - `DATABASE_PATH`: `/opt/render/project/src/database/knowledge.db`
   - `CORS_ORIGIN`: å¦‚æœéœ€è¦é™åˆ¶CORSæ¥æºï¼Œè®¾ç½®æ­¤å˜é‡ï¼ˆå¯é€‰ï¼‰

4. **æ·»åŠ æŒä¹…åŒ–ç£ç›˜ï¼ˆé‡è¦ï¼‰**ï¼š
   - åœ¨æœåŠ¡è®¾ç½®ä¸­æ‰¾åˆ° "Disks" éƒ¨åˆ†
   - ç‚¹å‡» "Add Disk"
   - **Name**: knowledge-db
   - **Mount Path**: `/opt/render/project/src/database`
   - **Size**: 1 GBï¼ˆå…è´¹å¥—é¤è¶³å¤Ÿä½¿ç”¨ï¼‰
   - âš ï¸ **æ³¨æ„**ï¼šåªæœ‰æŒ‚è½½è·¯å¾„å†…çš„æ–‡ä»¶ä¼šæŒä¹…åŒ–ï¼ˆæ•°æ®åº“æ–‡ä»¶ä¼šä¿å­˜ï¼‰
   - âš ï¸ **æ–‡ä»¶ä¸Šä¼ é™åˆ¶**ï¼š`backend/uploads/` ç›®å½•ä¸åœ¨æŒä¹…åŒ–ç£ç›˜å†…ï¼Œä¸Šä¼ çš„PDFæ–‡ä»¶åœ¨åº”ç”¨é‡å¯åä¼šä¸¢å¤±ã€‚å¦‚éœ€æŒä¹…åŒ–ä¸Šä¼ æ–‡ä»¶ï¼Œå»ºè®®ä½¿ç”¨å¤–éƒ¨å­˜å‚¨æœåŠ¡ï¼ˆå¦‚ AWS S3ï¼‰æˆ–å‡çº§åˆ°ä»˜è´¹å¥—é¤

5. ç‚¹å‡» "Create Web Service" å®Œæˆåˆ›å»º

### 3. åˆå§‹åŒ–æ•°æ®åº“

éƒ¨ç½²åé¦–æ¬¡è®¿é—®æ—¶ï¼Œæ•°æ®åº“ä¼šè‡ªåŠ¨åˆ›å»ºã€‚å¦‚æœéœ€è¦æ‰‹åŠ¨åˆå§‹åŒ–ï¼š

1. åœ¨ Render æ§åˆ¶å°çš„æœåŠ¡é¡µé¢
2. æ‰“å¼€ "Shell" æ ‡ç­¾
3. è¿è¡Œï¼š`npm run init-db`

### 4. è®¿é—®åº”ç”¨

- Webå‰ç«¯ï¼šè®¿é—® Render æä¾›çš„ URLï¼ˆå¦‚ `https://knowledge-manager.onrender.com`ï¼‰
- APIç«¯ç‚¹ï¼š`https://knowledge-manager.onrender.com/api`
- å¥åº·æ£€æŸ¥ï¼š`https://knowledge-manager.onrender.com/api/health`

### Render å…è´¹å¥—é¤é™åˆ¶è¯´æ˜

**é‡è¦æç¤º**ï¼š
- âœ… **å®Œå…¨å…è´¹**ï¼Œæ— éœ€ä¿¡ç”¨å¡
- â° **ä¼‘çœ æœºåˆ¶**ï¼šåº”ç”¨åœ¨ 15 åˆ†é’Ÿæ— æ´»åŠ¨åä¼šè‡ªåŠ¨ä¼‘çœ 
- ğŸš€ **å”¤é†’æ—¶é—´**ï¼šé¦–æ¬¡è®¿é—®ä¼‘çœ çš„åº”ç”¨éœ€è¦ç­‰å¾… 30-60 ç§’
- ğŸ’¾ **æŒä¹…åŒ–å­˜å‚¨**ï¼šæ•°æ®åº“æ–‡ä»¶ä¼šä¿å­˜ï¼ˆé€šè¿‡æŒä¹…åŒ–ç£ç›˜ï¼‰ï¼Œä¸ä¼šä¸¢å¤±
- ğŸ“ **æ–‡ä»¶ä¸Šä¼ é™åˆ¶**ï¼š`backend/uploads/` ç›®å½•ä¸åœ¨æŒä¹…åŒ–ç£ç›˜å†…ï¼Œä¸Šä¼ çš„PDFæ–‡ä»¶åœ¨åº”ç”¨é‡å¯åä¼šä¸¢å¤±
- ğŸ“Š **èµ„æºé™åˆ¶**ï¼šå…è´¹å¥—é¤æœ‰èµ„æºä½¿ç”¨é™åˆ¶ï¼Œä½†å¯¹äº 3-5 äººçš„å°å›¢é˜Ÿè¶³å¤Ÿä½¿ç”¨

**é¿å…ä¼‘çœ çš„æŠ€å·§**ï¼š
- ä½¿ç”¨å®šæ—¶æœåŠ¡ï¼ˆå¦‚ UptimeRobotï¼‰å®šæœŸè®¿é—®ä½ çš„åº”ç”¨ï¼Œä¿æŒæ´»è·ƒ
- æˆ–è€…åœ¨åº”ç”¨å†…éƒ¨å®ç°ä¸€ä¸ªç®€å•çš„å¥åº·æ£€æŸ¥è½®è¯¢

### Render æ•…éšœæ’æŸ¥

#### åº”ç”¨æ— æ³•å¯åŠ¨
- æ£€æŸ¥æ„å»ºæ—¥å¿—ï¼Œç¡®è®¤ `npm install` æˆåŠŸ
- æ£€æŸ¥å¯åŠ¨å‘½ä»¤æ˜¯å¦æ­£ç¡®ï¼ˆ`npm start`ï¼‰
- æ£€æŸ¥ç¯å¢ƒå˜é‡é…ç½®æ˜¯å¦æ­£ç¡®

#### æ•°æ®åº“è¿æ¥å¤±è´¥
- ç¡®è®¤æŒä¹…åŒ–ç£ç›˜å·²æ­£ç¡®æŒ‚è½½
- æ£€æŸ¥ `DATABASE_PATH` ç¯å¢ƒå˜é‡æ˜¯å¦ä¸æŒ‚è½½è·¯å¾„åŒ¹é…
- ç¡®è®¤æ•°æ®åº“ç›®å½•æƒé™æ­£ç¡®

#### åº”ç”¨ä¼‘çœ 
- è¿™æ˜¯æ­£å¸¸ç°è±¡ï¼Œé¦–æ¬¡è®¿é—®éœ€è¦ç­‰å¾… 30-60 ç§’
- ä½¿ç”¨å®šæ—¶æœåŠ¡å®šæœŸè®¿é—®å¯ä»¥é¿å…ä¼‘çœ 

#### æ–‡ä»¶ä¸Šä¼ å¤±è´¥
- âš ï¸ **æ³¨æ„**ï¼šRenderå…è´¹å¥—é¤ä¸‹ï¼Œ`backend/uploads/` ç›®å½•ä¸åœ¨æŒä¹…åŒ–ç£ç›˜å†…
- ä¸Šä¼ çš„æ–‡ä»¶åœ¨åº”ç”¨é‡å¯åä¼šä¸¢å¤±ï¼ˆè¿™æ˜¯å…è´¹å¥—é¤çš„é™åˆ¶ï¼‰
- æ£€æŸ¥ç£ç›˜ç©ºé—´æ˜¯å¦è¶³å¤Ÿ
- å¦‚éœ€æŒä¹…åŒ–ä¸Šä¼ æ–‡ä»¶ï¼Œå»ºè®®ä½¿ç”¨å¤–éƒ¨å­˜å‚¨æœåŠ¡ï¼ˆå¦‚ AWS S3ï¼‰æˆ–å‡çº§åˆ°ä»˜è´¹å¥—é¤

---

## Railway éƒ¨ç½²æ­¥éª¤

### 1. å‡†å¤‡å·¥ä½œ

1. åœ¨ [Railway](https://railway.app) æ³¨å†Œè´¦å·
2. å®‰è£… Railway CLIï¼ˆå¯é€‰ï¼‰ï¼š
   ```bash
   npm i -g @railway/cli
   ```

### 2. éƒ¨ç½²åˆ° Railway

#### æ–¹å¼ä¸€ï¼šé€šè¿‡ GitHub éƒ¨ç½²ï¼ˆæ¨èï¼‰

1. å°†ä»£ç æ¨é€åˆ° GitHub ä»“åº“
2. åœ¨ Railway æ§åˆ¶å°ï¼š
   - ç‚¹å‡» "New Project"
   - é€‰æ‹© "Deploy from GitHub repo"
   - é€‰æ‹©ä½ çš„ä»“åº“
   - Railway ä¼šè‡ªåŠ¨æ£€æµ‹ Node.js é¡¹ç›®

3. é…ç½®ç¯å¢ƒå˜é‡ï¼ˆå¯é€‰ï¼‰ï¼š
   - `PORT`: Railway ä¼šè‡ªåŠ¨è®¾ç½®ï¼Œæ— éœ€é…ç½®
   - `DATABASE_PATH`: æ•°æ®åº“è·¯å¾„ï¼ˆé»˜è®¤ä½¿ç”¨ `/data/knowledge.db`ï¼‰
   - `CORS_ORIGIN`: å¦‚æœéœ€è¦é™åˆ¶CORSæ¥æºï¼Œè®¾ç½®æ­¤å˜é‡

4. æ·»åŠ æŒä¹…åŒ–å­˜å‚¨ï¼ˆé‡è¦ï¼‰ï¼š
   - åœ¨ Railway é¡¹ç›®è®¾ç½®ä¸­æ·»åŠ  "Volume"
   - æŒ‚è½½è·¯å¾„ï¼š`/data`
   - è¿™æ ·æ•°æ®åº“æ–‡ä»¶ä¼šæŒä¹…åŒ–ä¿å­˜

5. éƒ¨ç½²å®Œæˆåï¼ŒRailway ä¼šæä¾›ä¸€ä¸ªå…¬ç½‘ URLï¼Œå¦‚ï¼š`https://your-app.railway.app`

#### æ–¹å¼äºŒï¼šé€šè¿‡ Railway CLI

```bash
# ç™»å½•
railway login

# åˆå§‹åŒ–é¡¹ç›®
railway init

# éƒ¨ç½²
railway up
```

### 3. åˆå§‹åŒ–æ•°æ®åº“

éƒ¨ç½²åé¦–æ¬¡è®¿é—®æ—¶ï¼Œæ•°æ®åº“ä¼šè‡ªåŠ¨åˆ›å»ºã€‚å¦‚æœéœ€è¦æ‰‹åŠ¨åˆå§‹åŒ–ï¼š

```bash
# é€šè¿‡ Railway CLI æ‰§è¡Œ
railway run npm run init-db
```

æˆ–è€…åœ¨ Railway æ§åˆ¶å°çš„ "Deployments" ä¸­æ‰§è¡Œå‘½ä»¤ã€‚

### 4. è®¿é—®åº”ç”¨

- Webå‰ç«¯ï¼šè®¿é—® Railway æä¾›çš„ URLï¼ˆå¦‚ `https://your-app.railway.app`ï¼‰
- APIç«¯ç‚¹ï¼š`https://your-app.railway.app/api`

## saynote App é›†æˆ

### API ç«¯ç‚¹é…ç½®

åœ¨ saynote app ä¸­é…ç½®ä»¥ä¸‹ API ç«¯ç‚¹ï¼š

```
åŸºç¡€URL: https://your-app.railway.app/api
```

### åˆ›å»ºè¯­éŸ³ç¬”è®°

```javascript
// saynote app ä¸­çš„è°ƒç”¨ç¤ºä¾‹
const API_BASE = 'https://your-app.railway.app/api';

async function syncVoiceNote(text, title) {
  try {
    const response = await fetch(`${API_BASE}/items`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({
        type: 'memo',
        title: title || `è¯­éŸ³ç¬”è®° ${new Date().toLocaleString()}`,
        raw_content: text,
        source: 'saynote',
        tags: ['è¯­éŸ³']
      })
    });
    
    const result = await response.json();
    return result;
  } catch (error) {
    console.error('åŒæ­¥å¤±è´¥:', error);
    throw error;
  }
}
```

### æ‰¹é‡åŒæ­¥ï¼ˆå¯é€‰ï¼‰

å¦‚æœ saynote app éœ€è¦æ‰¹é‡ä¸Šä¼ å¤šæ¡ç¬”è®°ï¼š

```javascript
async function syncBatchNotes(notes) {
  const items = notes.map(note => ({
    type: 'memo',
    title: note.title || `è¯­éŸ³ç¬”è®° ${new Date(note.timestamp).toLocaleString()}`,
    raw_content: note.text,
    source: 'saynote',
    tags: ['è¯­éŸ³']
  }));

  const response = await fetch(`${API_BASE}/items/batch`, {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
    },
    body: JSON.stringify({ items })
  });

  return response.json();
}
```

### API å“åº”æ ¼å¼

æˆåŠŸå“åº”ï¼š
```json
{
  "success": true,
  "data": {
    "id": "uuid",
    "type": "memo",
    "title": "è¯­éŸ³ç¬”è®°",
    "raw_content": "å†…å®¹...",
    "source": "saynote",
    "tags": ["è¯­éŸ³"],
    "created_at": 1234567890,
    "status": "pending"
  }
}
```

é”™è¯¯å“åº”ï¼š
```json
{
  "success": false,
  "message": "é”™è¯¯ä¿¡æ¯"
}
```

## æœ¬åœ°éƒ¨ç½²æ­¥éª¤

å¦‚æœä½ æƒ³åœ¨æœ¬åœ°æœåŠ¡å™¨æˆ–è‡ªå·±çš„æœºå™¨ä¸Šéƒ¨ç½²ï¼š

### 1. ç³»ç»Ÿè¦æ±‚

- Node.js 16+ 
- npm æˆ– yarn
- è‡³å°‘ 1GB å¯ç”¨ç£ç›˜ç©ºé—´

### 2. å®‰è£…æ­¥éª¤

```bash
# 1. å…‹éš†æˆ–ä¸‹è½½ä»£ç 
git clone <your-repo-url>
cd knowledge

# 2. å®‰è£…ä¾èµ–
npm install

# 3. åˆå§‹åŒ–æ•°æ®åº“
npm run init-db

# 4. é…ç½®ç¯å¢ƒå˜é‡ï¼ˆå¯é€‰ï¼‰
export NODE_ENV=production
export DATABASE_PATH=./database/knowledge.db
export PORT=3000
export CORS_ORIGIN=*  # æˆ–è®¾ç½®å…·ä½“åŸŸå
```

### 3. å¯åŠ¨æœåŠ¡

```bash
# ä½¿ç”¨ç”Ÿäº§æ¨¡å¼å¯åŠ¨
npm start
```

æœåŠ¡å°†åœ¨ `http://localhost:3000` å¯åŠ¨ï¼ˆæˆ–ä½ è®¾ç½®çš„PORTï¼‰

### 4. ä½¿ç”¨è¿›ç¨‹ç®¡ç†å™¨ï¼ˆæ¨èï¼‰

ä½¿ç”¨ PM2 è®©æœåŠ¡åœ¨åå°è¿è¡Œå¹¶è‡ªåŠ¨é‡å¯ï¼š

```bash
# å®‰è£… PM2
npm install -g pm2

# å¯åŠ¨åº”ç”¨
pm2 start backend/server.js --name knowledge-manager

# æŸ¥çœ‹çŠ¶æ€
pm2 status

# æŸ¥çœ‹æ—¥å¿—
pm2 logs knowledge-manager

# è®¾ç½®å¼€æœºè‡ªå¯
pm2 startup
pm2 save
```

### 5. é…ç½®åå‘ä»£ç†ï¼ˆå¯é€‰ï¼‰

å¦‚æœä½¿ç”¨ Nginx ä½œä¸ºåå‘ä»£ç†ï¼š

```nginx
server {
    listen 80;
    server_name your-domain.com;

    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }
}
```

## æœ¬åœ°å¼€å‘ vs ç”Ÿäº§ç¯å¢ƒ

### æœ¬åœ°å¼€å‘
- æ•°æ®åº“ï¼š`database/knowledge.db`ï¼ˆé¡¹ç›®ç›®å½•ä¸‹ï¼‰
- ä¸Šä¼ æ–‡ä»¶ï¼š`backend/uploads/`ï¼ˆé¡¹ç›®ç›®å½•ä¸‹ï¼‰
- å‰ç«¯ï¼šç›´æ¥æ‰“å¼€ `frontend/index.html` æˆ–è®¿é—® `http://localhost:3000`
- APIï¼š`http://localhost:3000/api`

### ç”Ÿäº§ç¯å¢ƒï¼ˆRenderï¼‰
- æ•°æ®åº“ï¼š`/opt/render/project/src/database/knowledge.db`ï¼ˆæŒä¹…åŒ–ç£ç›˜ï¼‰
- ä¸Šä¼ æ–‡ä»¶ï¼š`backend/uploads/`ï¼ˆâš ï¸ æ³¨æ„ï¼šå…è´¹å¥—é¤ä¸‹ï¼Œä¸Šä¼ æ–‡ä»¶åœ¨åº”ç”¨é‡å¯åä¼šä¸¢å¤±ï¼Œå»ºè®®ä½¿ç”¨å¤–éƒ¨å­˜å‚¨ï¼‰
- å‰ç«¯ï¼šé€šè¿‡ Render URL è®¿é—®
- APIï¼šé€šè¿‡ Render URL + `/api` è®¿é—®

### ç”Ÿäº§ç¯å¢ƒï¼ˆRailwayï¼‰
- æ•°æ®åº“ï¼š`/data/knowledge.db`ï¼ˆæŒä¹…åŒ–å­˜å‚¨ï¼‰
- ä¸Šä¼ æ–‡ä»¶ï¼šéœ€è¦é¢å¤–é…ç½®æŒä¹…åŒ–å­˜å‚¨
- å‰ç«¯ï¼šé€šè¿‡ Railway URL è®¿é—®
- APIï¼šé€šè¿‡ Railway URL + `/api` è®¿é—®

## æ³¨æ„äº‹é¡¹

### é€šç”¨æ³¨æ„äº‹é¡¹

1. **æ•°æ®åº“å¤‡ä»½**ï¼š
   - Renderï¼šå®šæœŸä»æŒä¹…åŒ–ç£ç›˜å¤‡ä»½æ•°æ®åº“æ–‡ä»¶
   - Railwayï¼šå®šæœŸå¤‡ä»½ `/data/knowledge.db` æ–‡ä»¶
   - æœ¬åœ°éƒ¨ç½²ï¼šå®šæœŸå¤‡ä»½ `database/knowledge.db` æ–‡ä»¶

2. **API Keyå®‰å…¨**ï¼š
   - DeepSeek API Key å·²åŠ å¯†å­˜å‚¨ï¼Œä½†ä»éœ€æ³¨æ„å®‰å…¨
   - ä¸è¦åœ¨ä»£ç ä¸­ç¡¬ç¼–ç  API Key
   - ä½¿ç”¨ç¯å¢ƒå˜é‡æˆ–å®‰å…¨çš„é…ç½®ç®¡ç†

3. **CORSé…ç½®**ï¼š
   - ç”Ÿäº§ç¯å¢ƒå»ºè®®è®¾ç½® `CORS_ORIGIN` ç¯å¢ƒå˜é‡ä¸ºå…·ä½“åŸŸå
   - æ ¼å¼ï¼š`CORS_ORIGIN=https://your-domain.com`

4. **æ–‡ä»¶ä¸Šä¼ é™åˆ¶ï¼ˆRenderå…è´¹å¥—é¤ï¼‰**ï¼š
   - âš ï¸ **é‡è¦**ï¼šRender å…è´¹å¥—é¤ä¸‹ï¼Œ`backend/uploads/` ç›®å½•ä¸åœ¨æŒä¹…åŒ–ç£ç›˜å†…
   - ä¸Šä¼ çš„PDFæ–‡ä»¶åœ¨åº”ç”¨é‡å¯åä¼šä¸¢å¤±
   - å»ºè®®ï¼šä½¿ç”¨å¤–éƒ¨å­˜å‚¨æœåŠ¡ï¼ˆå¦‚ AWS S3ã€Cloudinaryï¼‰æˆ–å‡çº§åˆ°ä»˜è´¹å¥—é¤

5. **æ—¥å¿—ç›‘æ§**ï¼š
   - Renderï¼šåœ¨ Render æ§åˆ¶å°æŸ¥çœ‹åº”ç”¨æ—¥å¿—
   - Railwayï¼šåœ¨ Railway æ§åˆ¶å°æŸ¥çœ‹åº”ç”¨æ—¥å¿—
   - æœ¬åœ°éƒ¨ç½²ï¼šä½¿ç”¨ PM2 æ—¥å¿—æˆ–ç³»ç»Ÿæ—¥å¿—

## æ•…éšœæ’æŸ¥

### é€šç”¨é—®é¢˜

#### åº”ç”¨æ— æ³•å¯åŠ¨
- æ£€æŸ¥ Node.js ç‰ˆæœ¬æ˜¯å¦ç¬¦åˆè¦æ±‚ï¼ˆ16+ï¼‰
- æ£€æŸ¥ `npm install` æ˜¯å¦æˆåŠŸ
- æ£€æŸ¥å¯åŠ¨å‘½ä»¤æ˜¯å¦æ­£ç¡®ï¼ˆ`npm start`ï¼‰
- æ£€æŸ¥ç¯å¢ƒå˜é‡é…ç½®æ˜¯å¦æ­£ç¡®
- æŸ¥çœ‹åº”ç”¨æ—¥å¿—è·å–è¯¦ç»†é”™è¯¯ä¿¡æ¯

#### æ•°æ®åº“è¿æ¥å¤±è´¥
- **Render**ï¼š
  - ç¡®è®¤æŒä¹…åŒ–ç£ç›˜å·²æ­£ç¡®æŒ‚è½½
  - æ£€æŸ¥ `DATABASE_PATH` ç¯å¢ƒå˜é‡æ˜¯å¦ä¸æŒ‚è½½è·¯å¾„åŒ¹é…ï¼ˆ`/opt/render/project/src/database/knowledge.db`ï¼‰
  - ç¡®è®¤æ•°æ®åº“ç›®å½•æƒé™æ­£ç¡®
- **Railway**ï¼š
  - æ£€æŸ¥æŒä¹…åŒ–å­˜å‚¨ï¼ˆVolumeï¼‰æ˜¯å¦æ­£ç¡®æŒ‚è½½
  - ç¡®è®¤æ•°æ®åº“æ–‡ä»¶è·¯å¾„æ­£ç¡®ï¼ˆ`/data/knowledge.db`ï¼‰
- **æœ¬åœ°éƒ¨ç½²**ï¼š
  - ç¡®è®¤æ•°æ®åº“æ–‡ä»¶è·¯å¾„å­˜åœ¨
  - æ£€æŸ¥æ–‡ä»¶æƒé™

#### CORS é”™è¯¯
- æ£€æŸ¥ `CORS_ORIGIN` ç¯å¢ƒå˜é‡é…ç½®
- ç¡®è®¤å‰ç«¯è¯·æ±‚çš„åŸŸåä¸é…ç½®åŒ¹é…
- æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°çš„è¯¦ç»†é”™è¯¯ä¿¡æ¯

#### API æ— å“åº”
- æ£€æŸ¥æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ
- æŸ¥çœ‹åº”ç”¨æ—¥å¿—
- æ£€æŸ¥å¥åº·æ£€æŸ¥ç«¯ç‚¹ï¼š`GET /api/health`
- æ£€æŸ¥é˜²ç«å¢™å’Œç«¯å£é…ç½®

#### æ–‡ä»¶ä¸Šä¼ å¤±è´¥
- **Renderå…è´¹å¥—é¤**ï¼š
  - âš ï¸ æ³¨æ„ï¼šä¸Šä¼ æ–‡ä»¶ä¸ä¼šæŒä¹…åŒ–ï¼Œé‡å¯åä¼šä¸¢å¤±
  - æ£€æŸ¥ç£ç›˜ç©ºé—´æ˜¯å¦è¶³å¤Ÿ
  - ç¡®è®¤ä¸Šä¼ ç›®å½•æƒé™æ­£ç¡®
- **Railway**ï¼š
  - ç¡®è®¤ä¸Šä¼ ç›®å½•åœ¨æŒä¹…åŒ–å­˜å‚¨å†…
  - æ£€æŸ¥ç£ç›˜ç©ºé—´æ˜¯å¦è¶³å¤Ÿ
- **æœ¬åœ°éƒ¨ç½²**ï¼š
  - æ£€æŸ¥ `backend/uploads/` ç›®å½•æƒé™
  - ç¡®è®¤ç£ç›˜ç©ºé—´è¶³å¤Ÿ

#### PDF è§£æå¤±è´¥
- æ£€æŸ¥ `pdf-parse` åŒ…æ˜¯å¦æ­£ç¡®å®‰è£…
- æŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—è·å–è¯¦ç»†é”™è¯¯
- ç¡®è®¤ä¸Šä¼ çš„PDFæ–‡ä»¶æ ¼å¼æ­£ç¡®

#### åº”ç”¨ä¼‘çœ ï¼ˆRenderå…è´¹å¥—é¤ï¼‰
- è¿™æ˜¯æ­£å¸¸ç°è±¡ï¼Œåº”ç”¨åœ¨15åˆ†é’Ÿæ— æ´»åŠ¨åä¼šè‡ªåŠ¨ä¼‘çœ 
- é¦–æ¬¡è®¿é—®ä¼‘çœ çš„åº”ç”¨éœ€è¦ç­‰å¾… 30-60 ç§’å”¤é†’
- ä½¿ç”¨å®šæ—¶æœåŠ¡ï¼ˆå¦‚ UptimeRobotã€cron-job.orgï¼‰å®šæœŸè®¿é—®åº”ç”¨å¯ä»¥é¿å…ä¼‘çœ 



